<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>使用js实现一个持续动画的效果</title>
        <style media="screen">
            .container{
                position:absolute;
                width:50px;
                height:50px;
                border-radius: 50%;
                background: greenyellow;
            }
        </style>
    </head>
    <body>
        <div class="container">

        </div>
        <!-- <script type="text/javascript">
            //1.使用setInterval
            let el = document.querySelector('.container');
            let left = 0;
            let flag = true;
            setInterval(function(){
                if(left == 0){
                    flag = true
                }
                if(left == 100){
                    flag = false;
                }
                if(!flag){
                    el.style.left = `${left--}px`
                }else{
                    el.style.left = `${left++}px`
                }
            },1000/60)
        </script> -->
        <script type="text/javascript">
            //2.使用requestAnimationFrame.默认的时间是16.7ms
            /**
                requestAnimationFrame解决了浏览器不知道javascript动画什么时候开始、不知道最佳循环间隔时间的问题。
                它是跟着浏览器的绘制走的，如果浏览器绘制间隔是16.7ms，它就按这个间隔绘制；
                如果浏览器绘制间隔是10ms, 它就按10ms绘制。这样就不会存在过度绘制的问题，动画不会丢帧。
            **/
            let el = document.querySelector('.container');
            let left = 0;
            let flag = true;
            requestAnimationFrame(function fn(){
                if(left == 0){
                    flag = true
                }
                if(left == 100){
                    flag = false;
                }
                if(!flag){
                    el.style.left = `${left--}px`
                }else{
                    el.style.left = `${left++}px`
                }
                requestAnimationFrame(fn)
            });
        </script>
    </body>
</html>
